{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport function getImagesByQuery(query) {\n    const params = {\n        key: \"51362272-d48daa27a05223f6096b84303\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    };\n\n     return axios.get(\"https://pixabay.com/api/\", { params })\n        .then(response =>  response.data)\n        .catch(err => {\n            console.log(err);\n             throw err;\n        });\n}\n\n","// createGallery(images). Ця функція повинна приймати масив images, створювати HTML-розмітку для галереї, додавати її в контейнер галереї та викликати метод екземпляра SimpleLightbox refresh(). Нічого не повертає.\n// clearGallery(). Ця функція нічого не приймає та повинна очищати вміст контейнера галереї. Нічого не повертає.\n// showLoader(). Ця функція нічого не приймає, повинна додавати клас для відображення лоадера. Нічого не повертає.\n// hideLoader(). Ця функція нічого не приймає, повинна прибирати клас для відображення лоадера. Нічого не повертає.\n\n// Описаний в документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryContainer = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', { \n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n});\nconst loader = document.querySelector('.js-loader');\n\nexport function createGallery(images) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => \n    `\n    <li class=\"gallery-item\">\n      <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n      </a>\n      <div class=\"info\">\n        <p>Likes: ${likes}</p>\n        <p>Views: ${views}</p>\n        <p>Comments: ${comments}</p>\n        <p>Downloads: ${downloads}</p>\n      </div>\n    </li>\n    `\n    ).join('');\n    galleryContainer.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\n\nexport function clearGallery() {\n    galleryContainer.innerHTML = \"\";\n }\nexport function showLoader() {\n    loader.classList.remove('is-hidden');\n }\nexport function hideLoader() {\n    loader.classList.add('is-hidden');\n }\n\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from '../src/js/pixabay-api';\nimport { createGallery, clearGallery, showLoader, hideLoader } from '../src/js/render-functions';\n\nconst form = document.querySelector('.form');\n\nconst onFormSubmit = event => {\n    event.preventDefault();\n    clearGallery();\n    const query = event.currentTarget.elements['search-text'].value.trim();\n    if (query === '') {\n        iziToast.info({\n            message: 'Insert the search request.'\n        })\n        return;\n    }\n   \n    showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n        if (data.hits.length === 0) {\n            iziToast.info({\n                message: `Sorry, there are no images matching your search query. Please try again!`,\n            });\n        } else {\n            createGallery(data.hits);\n        }\n    })\n    .catch(error => {\n        iziToast.error({ message: `Error: ${error.message}` });\n    })\n    .finally(() => {\n        hideLoader();\n    });\n};\n\nform.addEventListener('submit', onFormSubmit);\n"],"names":["getImagesByQuery","query","params","axios","response","err","galleryContainer","lightbox","SimpleLightbox","loader","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","onFormSubmit","event","iziToast","data","error"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACpC,MAAMC,EAAS,CACX,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAEK,OAAOE,EAAM,IAAI,2BAA4B,CAAE,OAAAD,CAAM,CAAE,EACnD,KAAKE,GAAaA,EAAS,IAAI,EAC/B,MAAMC,GAAO,CACV,cAAQ,IAAIA,CAAG,EACRA,CACnB,CAAS,CACT,CCPA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EACKC,EAAS,SAAS,cAAc,YAAY,EAE3C,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACnG;AAAA;AAAA,iBAEaL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,oBAG1BC,CAAK;AAAA,oBACLC,CAAK;AAAA,uBACFC,CAAQ;AAAA,wBACPC,CAAS;AAAA;AAAA;AAAA,KAIjC,EAAM,KAAK,EAAE,EACTb,EAAiB,mBAAmB,YAAaM,CAAM,EACvDL,EAAS,QAAO,CACpB,CAGO,SAASa,GAAe,CAC3Bd,EAAiB,UAAY,EAC/B,CACK,SAASe,GAAa,CACzBZ,EAAO,UAAU,OAAO,WAAW,CACrC,CACK,SAASa,GAAa,CACzBb,EAAO,UAAU,IAAI,WAAW,CACpC,CCvCA,MAAMc,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAeC,GAAS,CAC1BA,EAAM,eAAc,EACpBL,IACA,MAAMnB,EAAQwB,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAChE,GAAIxB,IAAU,GAAI,CACdyB,EAAS,KAAK,CACV,QAAS,4BACrB,CAAS,EACD,MACH,CAEDL,IAEFrB,EAAiBC,CAAK,EACnB,KAAK0B,GAAQ,CACNA,EAAK,KAAK,SAAW,EACrBD,EAAS,KAAK,CACV,QAAS,0EACzB,CAAa,EAEDhB,EAAciB,EAAK,IAAI,CAEnC,CAAK,EACA,MAAMC,GAAS,CACZF,EAAS,MAAM,CAAE,QAAS,UAAUE,EAAM,OAAO,EAAE,CAAE,CAC7D,CAAK,EACA,QAAQ,IAAM,CACXN,GACR,CAAK,CACL,EAEAC,EAAK,iBAAiB,SAAUC,CAAY"}